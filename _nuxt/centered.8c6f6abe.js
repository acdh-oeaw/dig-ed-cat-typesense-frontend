import{r as y,K as D,L as g,H as m,M as P,N as x,i as b,O as w,P as k,_ as O,o as B,c as C,v as M}from"./entry.22709ae4.js";const E=()=>null;function K(...o){const u=typeof o[o.length-1]=="string"?o.pop():void 0;typeof o[0]!="string"&&o.unshift(u);let[a,l,r={}]=o;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");r.server=r.server??!0,r.default=r.default??E,r.lazy=r.lazy??!1,r.immediate=r.immediate??!0;const e=x(),f=()=>e.isHydrating?e.payload.data[a]:e.static.data[a],d=()=>f()!==void 0;e._asyncData[a]||(e._asyncData[a]={data:y(f()??r.default()),pending:y(!d()),error:D(e.payload._errors,a),status:y("idle")});const t={...e._asyncData[a]};t.refresh=t.execute=(n={})=>{if(e._asyncDataPromises[a]){if(n.dedupe===!1)return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if((n._initial||e.isHydrating&&n._initial!==!1)&&d())return f();t.pending.value=!0,t.status.value="pending";const c=new Promise((s,i)=>{try{s(l(e))}catch(v){i(v)}}).then(s=>{if(c.cancelled)return e._asyncDataPromises[a];let i=s;r.transform&&(i=r.transform(s)),r.pick&&(i=H(i,r.pick)),t.data.value=i,t.error.value=null,t.status.value="success"}).catch(s=>{if(c.cancelled)return e._asyncDataPromises[a];t.error.value=s,t.data.value=b(r.default()),t.status.value="error"}).finally(()=>{c.cancelled||(t.pending.value=!1,e.payload.data[a]=t.data.value,t.error.value&&(e.payload._errors[a]=w(t.error.value)),delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=c,e._asyncDataPromises[a]};const p=()=>t.refresh({_initial:!0}),_=r.server!==!1&&e.payload.serverRendered;{const n=k();if(n&&!n._nuxtOnBeforeMountCbs){n._nuxtOnBeforeMountCbs=[];const s=n._nuxtOnBeforeMountCbs;n&&(g(()=>{s.forEach(i=>{i()}),s.splice(0,s.length)}),m(()=>s.splice(0,s.length)))}_&&e.isHydrating&&d()?(t.pending.value=!1,t.status.value=t.error.value?"error":"success"):n&&(e.payload.serverRendered&&e.isHydrating||r.lazy)&&r.immediate?n._nuxtOnBeforeMountCbs.push(p):r.immediate&&p(),r.watch&&P(r.watch,()=>t.refresh());const c=e.hook("app:data:refresh",s=>{if(!s||s.includes(a))return t.refresh()});n&&m(c)}const h=Promise.resolve(e._asyncDataPromises[a]).then(()=>t);return Object.assign(h,t),h}function H(o,u){const a={};for(const l of u)a[l]=o[l];return a}const z={},R={class:"absolute inset-0 grid h-full w-full place-items-center"};function j(o,u){return B(),C("div",R,[M(o.$slots,"default")])}const N=O(z,[["render",j]]);export{N as c,K as u};
