import{T as A,H as F}from"./components.a7309788.js";import{c as G}from"./centered.ae15dcb0.js";import{r as O,p as R,a as q,k as U,_ as J}from"./types.cd256e9d.js";import{_ as p}from"./external-link.vue.03136abf.js";import{_ as K}from"./vis-container.vue.c0071e48.js";import{_ as C}from"./client-only.3b44a50e.js";import{f as B,o as n,c as o,a as e,t as a,b as r,F as g,m as N,j as k,w as c,n as _,d as y,q as M,r as h,g as v,h as t,s as P}from"./entry.814c54fd.js";import{f as Q,c as W,_ as X}from"./network-graph.vue.607f7c12.js";import{_ as w}from"./map-component.vue.562bc508.js";import{b as Y,a as Z}from"./use-data.5c59bd20.js";import"./_commonjsHelpers.042e6b4d.js";const tt={class:"rounded border border-slate-200"},nt={key:0,class:"p-5"},st={class:"text-2xl"},it={class:"text-sm"},ot={class:"text-sm"},et={key:1,class:"p-3 flex-col flex gap-1 divide-y"},at={class:"col-span-2 text-lg"},lt={class:"text-sm"},x=B({__name:"institution-card",props:{institution:{},institutions:{}},setup(L){return(s,d)=>{const b=C;return n(),o("div",tt,[s.institution?(n(),o("div",nt,[e("h1",st,a(s.institution["institution-name"]),1),e("h2",null,a(s.institution["located-at"])+", "+a(s.institution["part-of"]),1),e("h3",it,[r(p,{href:s.institution["institution-website"]},null,8,["href"])]),e("h3",ot,[r(p,{href:s.institution["institution-gnd"]},null,8,["href"])])])):s.institutions?(n(),o("div",et,[(n(!0),o(g,null,N(s.institutions,l=>(n(),o("div",null,[e("div",at,[r(p,{href:l["institution-website"]},{default:c(()=>[y(a(l["institution-name"]),1)]),_:2},1032,["href"])]),e("div",lt,a(l["located-at"])+", "+a(l["part-of"]),1)]))),256))])):k("",!0),r(b,null,{default:c(()=>[s.institution?(n(),_(w,{key:0,points:[{lat:s.institution["institution-lat"],long:s.institution["institution-lng"]}],name:s.institution["institution-name"],zoom:13,class:"h-64 w-full"},null,8,["points","name"])):s.institutions?(n(),_(w,{key:1,points:s.institutions.map(l=>({lat:l["institution-lat"],long:l["institution-lng"],name:l["institution-name"]})),name:"institutions","zoom-out":"",class:"h-64 w-full"},null,8,["points"])):k("",!0)]),_:1})])}}}),rt={key:1,class:"flex flex-col max-w-container mx-auto"},ut={class:"text-center text-5xl mt-10 mb-10"},ct={class:"grid md:grid-cols-2"},_t={class:"font-semibold"},dt={key:0},mt={key:1},pt={key:1},ft={key:2},ht={key:3},gt={key:4},kt=e("div",{class:"md:col-span-2 border-b pt-1 mb-1 last:border-0"},null,-1),yt={key:0,class:"flex flex-col"},bt={class:"m-5 mb-0 text-2xl text-center"},$t={class:"m-5 mb-0 h-72 border rounded"},Ht=B({__name:"[id]",async setup(L){let s,d;const l=M().params.id,f=h(!0),i=h({}),T=Object.entries(U);i.value=([s,d]=v(()=>Y(String(l))),s=await s,d(),s);const V=([s,d]=v(()=>Z()),s=await s,d(),s),j=h(Q(W({...V}),{related_to:`edition__${l}`}));return f.value=!1,(vt,wt)=>{const $=A,z=F,E=G,D=J,H=p,I=K,S=C;return n(),o("div",null,[r(z,null,{default:c(()=>[t(f)?(n(),_($,{key:0},{default:c(()=>[y("Loading...")]),_:1})):(n(),_($,{key:1},{default:c(()=>[y(a(t(i)["edition-name"])+" - DigEdCat",1)]),_:1}))]),_:1}),t(f)?(n(),_(E,{key:0,class:"-z-10"},{default:c(()=>[r(t(O),{class:"h-5 w-5 animate-spin"})]),_:1})):(n(),o("div",rt,[e("div",null,[e("h1",ut,a(t(i)["edition-name"]),1)]),e("div",{class:P(["grid m-2 lg:m-0 lg:grid-cols-[2fr_1fr]",t(i)["institution-s"].length===0&&"lg:grid-cols-1"])},[e("div",ct,[(n(!0),o(g,null,N(t(T),([u,m])=>(n(),o(g,null,[e("span",_t,a(m),1),m==="Institutions"?(n(),o("span",dt,[t(i)["institution-s"].length>=1?(n(),_(D,{key:0,institutions:t(i)["institution-s"]},null,8,["institutions"])):(n(),o("span",mt,"none"))])):t(R).includes(t(i)[u])?(n(),o("span",pt,a(t(q)[t(i)[u]]),1)):typeof t(i)[u]=="object"?(n(),o("span",ft,a(Array(t(i)[u]).join(", ")),1)):m==="URL"?(n(),o("span",ht,[r(H,{href:String(t(i)[u])},null,8,["href"])])):(n(),o("span",gt,a(t(i)[u]),1)),kt],64))),256))]),t(i)["institution-s"].length?(n(),o("div",yt,[e("h1",bt," Institution"+a(t(i)["institution-s"].length===1?"":"s")+": ",1),t(i)["institution-s"].length!=1?(n(),_(x,{key:0,institutions:t(i)["institution-s"],class:"m-5 mb-0"},null,8,["institutions"])):(n(),_(x,{key:1,institution:t(i)["institution-s"][0],class:"m-5 mb-0"},null,8,["institution"])),e("div",$t,[r(S,null,{default:c(()=>[r(I,null,{default:c(({width:u,height:m})=>[r(X,{data:t(j),width:u,height:m,selected:`edition__${t(l)}`},null,8,["data","width","height","selected"])]),_:1})]),_:1})])])):k("",!0)],2)]))])}}});export{Ht as default};
