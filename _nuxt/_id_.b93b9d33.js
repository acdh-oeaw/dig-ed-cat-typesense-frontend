import{T as A,H as F}from"./components.5f446a8a.js";import{c as G}from"./centered.8385efa0.js";import{r as O,p as S,a as q,k as R,_ as J}from"./types.25cd2bf6.js";import{_ as K}from"./vis-container.vue.ca0889f1.js";import{_ as C}from"./client-only.9a342a19.js";import{f as B,o as n,c as o,a as e,t as a,b as r,F as g,m as N,j as k,w as u,n as c,d as y,q as M,r as f,g as $,h as s,s as P}from"./entry.6a8fe295.js";import{f as Q,c as U,_ as W}from"./network-graph.vue.2c2a94a7.js";import{_ as h}from"./external-link.vue.e3877ebc.js";import{_ as w}from"./map-component.vue.ffd09651.js";import{b as X,a as Y}from"./use-data.5c59bd20.js";import"./_commonjsHelpers.042e6b4d.js";const Z={class:"rounded border border-slate-200"},tt={key:0,class:"p-5"},st={class:"text-2xl"},nt={class:"text-sm"},it={class:"text-sm"},ot={key:1,class:"p-3 flex-col flex gap-1 divide-y"},et={class:"col-span-2 text-lg"},at={class:"text-sm"},x=B({__name:"institution-card",props:{institution:{},institutions:{}},setup(T){return(t,_)=>{const b=C;return n(),o("div",Z,[t.institution?(n(),o("div",tt,[e("h1",st,a(t.institution["institution-name"]),1),e("h2",null,a(t.institution["located-at"])+", "+a(t.institution["part-of"]),1),e("h3",nt,[r(h,{href:t.institution["institution-website"]},null,8,["href"])]),e("h3",it,[r(h,{href:t.institution["institution-gnd"]},null,8,["href"])])])):t.institutions?(n(),o("div",ot,[(n(!0),o(g,null,N(t.institutions,l=>(n(),o("div",null,[e("div",et,[r(h,{href:l["institution-website"]},{default:u(()=>[y(a(l["institution-name"]),1)]),_:2},1032,["href"])]),e("div",at,a(l["located-at"])+", "+a(l["part-of"]),1)]))),256))])):k("",!0),r(b,null,{default:u(()=>[t.institution?(n(),c(w,{key:0,points:[{lat:t.institution["institution-lat"],long:t.institution["institution-lng"]}],name:t.institution["institution-name"],zoom:13,class:"h-64 w-full"},null,8,["points","name"])):t.institutions?(n(),c(w,{key:1,points:t.institutions.map(l=>({lat:l["institution-lat"],long:l["institution-lng"],name:l["institution-name"]})),name:"institutions","zoom-out":"",class:"h-64 w-full"},null,8,["points"])):k("",!0)]),_:1})])}}}),lt={key:1,class:"flex flex-col max-w-container mx-auto"},rt={class:"text-center text-5xl mt-10 mb-10"},ut={class:"grid md:grid-cols-2"},ct={class:"font-semibold"},dt={key:0},_t={key:1},mt={key:1},pt={key:2},ft={key:3},ht=e("div",{class:"md:col-span-2 border-b pt-1 mb-1 last:border-0"},null,-1),gt={key:0,class:"flex flex-col"},kt={class:"m-5 mb-0 text-2xl text-center"},yt={class:"m-5 mb-0 h-72 border rounded"},Et=B({__name:"[id]",async setup(T){let t,_;const l=M().params.id,p=f(!0),i=f({}),V=Object.entries(R);i.value=([t,_]=$(()=>X(String(l))),t=await t,_(),t);const j=([t,_]=$(()=>Y()),t=await t,_(),t),z=f(Q(U({...j}),{related_to:`edition__${l}`}));return p.value=!1,(bt,vt)=>{const v=A,D=F,E=G,H=J,I=K,L=C;return n(),o("div",null,[r(D,null,{default:u(()=>[s(p)?(n(),c(v,{key:0},{default:u(()=>[y("Loading...")]),_:1})):(n(),c(v,{key:1},{default:u(()=>[y(a(s(i)["edition-name"])+" - DigEdCat",1)]),_:1}))]),_:1}),s(p)?(n(),c(E,{key:0,class:"-z-10"},{default:u(()=>[r(s(O),{class:"h-5 w-5 animate-spin"})]),_:1})):(n(),o("div",lt,[e("div",null,[e("h1",rt,a(s(i)["edition-name"]),1)]),e("div",{class:P(["grid m-2 lg:m-0 lg:grid-cols-[2fr_1fr]",s(i)["institution-s"].length===0&&"lg:grid-cols-1"])},[e("div",ut,[(n(!0),o(g,null,N(s(V),([d,m])=>(n(),o(g,null,[e("span",ct,a(m),1),m==="Institutions"?(n(),o("span",dt,[s(i)["institution-s"].length>=1?(n(),c(H,{key:0,institutions:s(i)["institution-s"]},null,8,["institutions"])):(n(),o("span",_t,"none"))])):s(S).includes(s(i)[d])?(n(),o("span",mt,a(s(q)[s(i)[d]]),1)):typeof s(i)[d]=="object"?(n(),o("span",pt,a(Array(s(i)[d]).join(", ")),1)):(n(),o("span",ft,a(s(i)[d]),1)),ht],64))),256))]),s(i)["institution-s"].length?(n(),o("div",gt,[e("h1",kt," Institution"+a(s(i)["institution-s"].length===1?"":"s")+": ",1),s(i)["institution-s"].length!=1?(n(),c(x,{key:0,institutions:s(i)["institution-s"],class:"m-5 mb-0"},null,8,["institutions"])):(n(),c(x,{key:1,institution:s(i)["institution-s"][0],class:"m-5 mb-0"},null,8,["institution"])),e("div",yt,[r(L,null,{default:u(()=>[r(I,null,{default:u(({width:d,height:m})=>[r(W,{data:s(z),width:d,height:m,selected:`edition__${s(l)}`},null,8,["data","width","height","selected"])]),_:1})]),_:1})])])):k("",!0)],2)]))])}}});export{Et as default};
