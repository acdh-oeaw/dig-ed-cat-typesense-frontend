import{T as N,H as q}from"./components.4cb4804e.js";import{t as m,a as I,c as T,f as V,_ as G}from"./network-graph.vue.4f2ff92d.js";import{c as B}from"./centered.fbcf6b9e.js";import{_ as E}from"./client-only.b99aca30.js";import{f as v,r as _,o as d,c as p,i as h,v as F,a as c,F as H,m as U,h as i,J as z,K as D,t as M,g as S,b as n,w as l,d as A,I as f}from"./entry.8cd1afa1.js";import{a as J}from"./use-data.5c59bd20.js";import{_ as K}from"./vis-container.vue.c1524592.js";import"./_commonjsHelpers.042e6b4d.js";const L={class:"flex flex-col bg-white p-2 rounded border shadow"},R={class:"mt-2"},O={class:"flex items-center gap-2"},P=["id","value"],Q=["for"],W=v({__name:"graph-toolbar",props:{data:{}},setup(y){const a=_(m),o=_("");return(r,e)=>(d(),p("div",L,[h(c("input",{type:"text",placeholder:"Filter Nodes...","onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"h-8 w-64 rounded border shadow pl-2",onInput:e[1]||(e[1]=t=>r.$emit("inputChange",{query:o.value,types:a.value}))},null,544),[[F,o.value]]),c("div",R,[(d(!0),p(H,null,U(i(m),t=>(d(),p("div",O,[h(c("input",{type:"checkbox",class:"h-4 w-4",style:D(`accent-color: ${i(I)[t]}`),id:t,value:t,"onUpdate:modelValue":e[2]||(e[2]=u=>a.value=u),onChange:e[3]||(e[3]=u=>r.$emit("inputChange",{query:o.value,types:a.value}))},null,44,P),[[z,a.value]]),c("label",{for:t,class:"text-lg"},M(t),9,Q)]))),256))])]))}}),X={class:"relative"},re=v({__name:"network",async setup(y){let a,o;const r=T(([a,o]=S(()=>J()),a=await a,o(),a)),e=_(r),t=_(s=>{e.value=V(r,{types:s.types||[],query:s.query||""})}),u=s=>{switch(s.attributes.type){case"Edition":f(`editions/${s.index+1}`);break;case"Institution":f({path:"search",query:{facets:encodeURIComponent(`[institution-s.institution-name:=${s.attributes.label}]`)}});break}};return(s,Y)=>{const g=N,w=q,b=G,x=B,C=E;return d(),p("div",X,[n(w,null,{default:l(()=>[n(g,null,{default:l(()=>[A("Network Graph")]),_:1})]),_:1}),n(C,null,{default:l(()=>[n(W,{data:i(e),onInputChange:i(t),class:"absolute z-20 right-0 bottom-0 m-2"},null,8,["data","onInputChange"]),n(x,null,{default:l(()=>[n(K,null,{default:l(({width:k,height:$})=>[n(b,{data:i(e),width:k,height:$,onNodeClick:u},null,8,["data","width","height"])]),_:1})]),_:1})]),_:1})])}}});export{re as default};
